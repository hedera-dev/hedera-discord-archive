# How to get the public keys of the signatories of a transaction using Hedera SDK?

Original conversation link: <https://discord.com/channels/373889138199494658/1354509266727469186/1354509266727469186>

## Message 1354509266727469186

By @M-AB (mab05147#0 763134886218956800)
at *2025-03-26 17:36:14.753 UTC*

```txt
Is it possible using Hedera SDK to retrieve the public keys of the signatories of a transaction after the transaction has been submitted? whether from the hashgraph or the mirror node?
```

## Message 1355162889446490172

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-03-28 12:53:30.553 UTC*

```txt
https://discord.com/channels/373889138199494658/1068721949401952286/1354523813014016061
```

## Message 1355209951320084832

By @TimTheEnchanter (2lazy2logout#0 299603144885927947)
at *2025-03-28 16:00:30.978 UTC*

```txt
Hey @Phasmatis (phasmatis#0 255000116388167680), just going to add to the convo here rather than <#1068721949401952286>. 

We're wondering if it's possible to get the `sigMap` part of a transaction that's been executed. We've found this in the docs: https://docs.hedera.com/hedera/sdks-and-apis/hedera-api/miscellaneous/transaction

When we use TransactionRecordQuery, we're getting a different object back, and sigMap is nowhere to be found.

Anyone know which API call we should be using to get the full transaction object with the sigMap? Basically, we want to check which public keys were used to sign a transaction.
```

## Message 1355453597013381133

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-03-29 08:08:40.638 UTC*
in reply to [1355209951320084832](#message-1355209951320084832)

```txt
Hi Tim, could you make a new post for this please? as we need to be able to track individual issues
```

## Message 1355519512056959116

By @TimTheEnchanter (2lazy2logout#0 299603144885927947)
at *2025-03-29 12:30:36.009 UTC*
**MODIFIED** last time at *2025-03-29 12:41:11.228 UTC*

```txt
Hey, @M-AB (mab05147#0 763134886218956800) and I are both after the same thing, would you like me to still create another thread?
```

## Message 1355569876198101303

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-03-29 15:50:43.756 UTC*

```txt
I will do some testing and get back to you in a moment
```

## Message 1355643349570420816

By @TimTheEnchanter (2lazy2logout#0 299603144885927947)
at *2025-03-29 20:42:41.173 UTC*
**MODIFIED** last time at *2025-03-29 20:42:51.299 UTC*

```txt
Awesome, thanks dude, we're a bit stumped as we'd expect to be able to verify who the signatories were when a transaction has been completed.
```

## Message 1357304611995914331

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-03 10:43:57.000 UTC*
**MODIFIED** last time at *2025-04-03 10:45:00.597 UTC*
in reply to [1355643349570420816](#message-1355643349570420816)

````txt
Yeah the sigMap is depricated, when using the ```Transaction```  but you can use it if you use ```TransactionContents```
````

## Message 1359106116021129280

By @M-AB (mab05147#0 763134886218956800)
at *2025-04-08 10:02:29.030 UTC*

```txt
Hi @Phasmatis (phasmatis#0 255000116388167680) ,
So how do we get the transactionContents using the transaction ID after submitting a transaction?
```

## Message 1359106880840011878

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-08 10:05:31.377 UTC*
in reply to [1359106116021129280](#message-1359106116021129280)

````txt
Hey, have you tried the ```TransactionContents``` method yet?
````

## Message 1359107156896387206

By @M-AB (mab05147#0 763134886218956800)
at *2025-04-08 10:06:37.194 UTC*

```txt
I can't find anywhere in the docs how to get the transactionContents using a transaction ID after submitting a transaction. The only way I can get access to the SigMap is before submitting the transaction and not after submitting it.
```

## Message 1359174411474833582

By @TimTheEnchanter (2lazy2logout#0 299603144885927947)
at *2025-04-08 14:33:51.935 UTC*

```txt
Hey @Phasmatis (phasmatis#0 255000116388167680), just to add a little more context, we're using the JS SDK.

Having a look at the codebase I can see a reference to `TransactionContents` as part of a `proto` file but I can't see anything making use of this within the src of the SDK.
```

## Message 1364622345037414491

By @TimTheEnchanter (2lazy2logout#0 299603144885927947)
at *2025-04-23 15:22:00.514 UTC*

```txt
Hey Phasmatis, just following up on this, do you know what method would return `TransactionContents` from the JS SDK?
```

## Message 1364622693013651597

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-23 15:23:23.478 UTC*

```txt
Bare with me, ill grab the method
```

## Message 1364626839049605181

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-23 15:39:51.970 UTC*

```txt
Could you run me through your flow if thats okay? Are you trying to get the public keys of transaction you have submitted? or are you trying to plug in a transaction and grab the public key from that?
```

## Message 1364627568921411626

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-23 15:42:45.985 UTC*

```txt
As you can get the public key directly through an AccountInfoQuery()
```

## Message 1364627726329450497

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-23 15:43:23.514 UTC*



**Attachments:**

- [image.png](https://cdn.discordapp.com/attachments/1354509266727469186/1364627726400622682/image.png?ex=68ef185b&is=68edc6db&hm=99d3aadfd472f36ddd2e8059206ad9cec0c0373a5a19d20ac29d8d7999af6231&)

## Message 1364627830851506347

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-23 15:43:48.434 UTC*

```txt
So you could add logic to the flow to grab the account ID, then run an AccountInfoQuery to return the public key
```

## Message 1364640629187149925

By @TimTheEnchanter (2lazy2logout#0 299603144885927947)
at *2025-04-23 16:34:39.795 UTC*

```txt
Will do thanks, just about to sign off for the day but I'll get back to you with our thinking / flow tomorrow.
```

## Message 1364658341850124388

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-23 17:45:02.823 UTC*
in reply to [1364640629187149925](#message-1364640629187149925)

```txt
Perfect, let me know and I can put something together for you
```

## Message 1364911910004326451

By @TimTheEnchanter (2lazy2logout#0 299603144885927947)
at *2025-04-24 10:32:38.182 UTC*
**MODIFIED** last time at *2025-04-24 10:32:50.650 UTC*

````txt
# Our scenario
We create a topic that specifics `AccountA` as the submit key and `AccountB` as the adminKey.

`AccountB` creates a transaction with a message, freezes it, hands it over to `AccountA`, `AccountA` signs and then `AccountB` executes the transaction.

Once the transaction has been submitted, sometime in the future we'd like to be able to see who actually signed the transaction. In this case it would be `AccountA`. We currently can only see who the `payerId` is which is `AccountB`.
# Pseudocode
```
new TopicCreateTransaction()
  .adminKey(AccountB)
  .submitKey(AccountA)
  .execute(AccountB)

const trans = new TopicMessageSubmitTransaction()
  .setTopicId(topicId)
  .setMessage(message)
  .freezeWith(AccountB);

trans.sign(AccountA);

trans.execute(AccountB);

const tran = new TransactionRecordQuery() // This doesn't return sigMap
  .setTransactionId(trans.id);
```
# SDK Calls
Currently we've been making calls to `TransactionRecordQuery` but this doesn't contain any sigMap reference and only contains the information related to who executed the transaction.

We've been unable to find a way to get `TransactionContents` after the transaction has been executed.
# Note
We've set out scenario just to try and convey what we're trying to achieve but in reality we'd like to know how to check who the signatories are for any transaction.
````

## Message 1365010984267157554

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-24 17:06:19.327 UTC*

```txt
Just to confirm, when you are saying in the future are you meaning say 6 months in the future?
```

## Message 1365011156497993879

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-24 17:07:00.390 UTC*

```txt
I am currently speaking with someone else to confirm what I am thinking, as there does not seem to be a way to do this down the line once the transaction has taken place
```

## Message 1365015578963869758

By @TimTheEnchanter (2lazy2logout#0 299603144885927947)
at *2025-04-24 17:24:34.788 UTC*
in reply to [1365010984267157554](#message-1365010984267157554)

```txt
To be able to check who signed for any transaction that's happened would be a nice to have but I guess in our case any transactions that's happened within the 48 hours would be sufficient.
```

## Message 1365015956035731537

By @TimTheEnchanter (2lazy2logout#0 299603144885927947)
at *2025-04-24 17:26:04.689 UTC*
in reply to [1365011156497993879](#message-1365011156497993879)

```txt
Yeah that's the conclusion I've come to, it seems like I should be a feature so I'm just wanting to confirm
```

## Message 1365021523571773553

By @Phasmatis (phasmatis#0 255000116388167680)
at *2025-04-24 17:48:12.093 UTC*
in reply to [1365015956035731537](#message-1365015956035731537)

```txt
You could raise it as a HIP if it's something that you'd like to see implemented
```
